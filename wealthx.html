<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="WealthX 是你的智能记账伙伴，助你轻松管理资产、预算与消费。" data-i18n="meta_description" />
  <meta name="keywords" content="WealthX, 记账, 财务管理, 预算分析, 数据可视化" data-i18n="meta_keywords" />
  <meta name="author" content="WERD Team" />
  <title data-i18n="title">WealthX - 看清钱的流动，习惯自然改变</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <style>
    :root {
      --bg: #ffffff;
      --text: #000000;
      --highlight: #69BFFF;
      --sidebar-highlight: #e6f0ff;
    }
    [data-theme="dark"] {
      --bg: #1e1e1e;
      --text: #f0f0f0;
      --highlight: #69BFFF;
      --sidebar-highlight: #003366;
    }
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      background-color: var(--bg);
      color: var(--text);
      transition: background 0.3s, color 0.3s;
    }
    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem 2rem;
      border-bottom: 1px solid #ccc;
    }
    header img { height: 36px; margin-right: 10px; }
    nav a {
      margin-left: 1.5rem;
      text-decoration: none;
      color: var(--text);
      font-weight: 500;
    }
    nav a:hover { color: var(--highlight); }
    .theme-toggle { cursor: pointer; margin-left: 1rem; }
    #lang-switch { margin-left: 1rem; }
    .container { display: flex; }
    aside {
      width: 200px;
      padding: 1rem;
      border-right: 1px solid #ccc;
    }
    aside a {
      display: block;
      margin-bottom: 1rem;
      text-decoration: none;
      color: var(--text);
      padding: 0.5rem;
      border-radius: 6px;
    }
    aside a.active {
      background-color: var(--sidebar-highlight);
      font-weight: bold;
    }
    main { flex: 1; padding: 2rem; }
    h2, h3 { margin-top: 0; }
    .logo-img {
      width: 40px;
      height: 40px;
      border-radius: 8px;
      object-fit: cover;
    }
    /* 新增：限制 screenshot 大小 */
    .screenshots img {
      display: block;
      max-width: 300px;
      width: 100%;
      height: auto;
      margin-bottom: 0.5rem;
      border-radius: 8px;
    }
    
    section { display: none; }
    section.active { display: block; }
  </style>
</head>
<body>
  <header>
    <div style="display: flex; align-items: center;">
      <img src="WealthX logo.png" alt="WealthX Logo" class="logo-img">
      <h1 style="margin: 0; font-size: 1.5rem; color: var(--highlight);" data-i18n="app_name">WealthX</h1>
    </div>
    <nav>
      <a href="index.html" data-i18n="nav_home">首页</a>
      <a href="wealthx.html" data-i18n="nav_overview">WealthX</a>
      <a href="#contact" data-i18n="nav_feedback">意见留言</a>
      <span class="theme-toggle" onclick="toggleTheme()" data-i18n="toggle_theme">🌗 切换模式</span>
      <select id="lang-switch">
        <option value="zh"      data-i18n="lang_zh">简体</option>
        <option value="zh-Hant" data-i18n="lang_zh-T">繁體</option>
        <option value="en"      data-i18n="lang_en">EN</option>
        <option value="ja"      data-i18n="lang_ja">日本語</option>
        <option value="ko"      data-i18n="lang_ko">한국어</option>
        <option value="fr"      data-i18n="lang_fr">Français</option>
        <option value="de"      data-i18n="lang_de">Deutsch</option>
      </select>
    </nav>
  </header>

  <div class="container">
    <aside>
      <a href="#overview"    onclick="switchTab(event,'overview')" data-i18n="sidebar_overview">概览</a>
      <a href="#privacy"     onclick="switchTab(event,'privacy')"  data-i18n="sidebar_privacy">隐私政策</a>
      <a href="#accounts"    onclick="switchTab(event,'accounts')" data-i18n="sidebar_accounts">账户管理</a>
      <a href="#budgets"     onclick="switchTab(event,'budgets')"  data-i18n="sidebar_budgets">预算管理</a>
      <a href="#transactions"onclick="switchTab(event,'transactions')" data-i18n="sidebar_transactions">交易管理</a>
      <a href="#visual"      onclick="switchTab(event,'visual')"   data-i18n="sidebar_visual">数据可视化</a>
      <a href="#security"    onclick="switchTab(event,'security')" data-i18n="sidebar_security">数据管理</a>
    </aside>

    <main>
    <section id="overview" class="active">
        <h2 style="color: var(--highlight);" data-i18n="overview_heading">看清钱的流动，习惯自然改变。</h2>
        <p data-i18n="overview_p1">从现在起，和 WealthX 一起开启专属你的财务旅程。</p>
        <p data-i18n="overview_p2">这不仅是一款记账 App，<br>更是你财务管理的智能伙伴。<br>从今天开始，<br>用 WealthX 轻松打造属于自己的财富地图。</p>

  <div class="overview-contact" style="margin-top: 2rem;">
    <h3 data-i18n="overview_contact_title">联系我们</h3>
    <p data-i18n="overview_contact_email">邮箱：ericdai2013@gmail.com</p>
    <p data-i18n="overview_contact_whatsapp">WhatsApp：+852 95542811</p>
  </div>
        
      </section>

      <section id="privacy">
        <h2 style="color: var(--highlight);" data-i18n="privacy_title">隐私政策</h2>
        <p>
          <strong data-i18n="privacy_effective">生效日期：</strong>
          <span data-i18n="privacy_date">2025-08-03</span>
        </p>

        <h3 style="color: var(--highlight);" data-i18n="privacy_sec1">1. 我们收集的信息</h3>
        <ul>
          <li data-i18n="privacy_item1"><strong>交易数据：</strong>记录您的交易金额、日期、备注等，用于核心功能。</li>
          <li data-i18n="privacy_item2"><strong>位置信息（可选）：</strong>用来标记交易发生地，完全在设备上处理，仅在您允许时采集。</li>
          <li data-i18n="privacy_item3"><strong>账户与预算图标：</strong>仅存储您选择的 Emoji、SF Symbol 或自定义图片。</li>
          <li data-i18n="privacy_item4"><strong>iCloud 同步：</strong>开启后，您的数据会通过您的 iCloud 账户加密存储和同步。</li>
        </ul>

        <h3 style="color: var(--highlight);" data-i18n="privacy_sec2">2. 信息的使用方式</h3>
        <ul>
          <li data-i18n="privacy_use1">提供并优化应用功能，如预算统计、资产负债分析、循环交易等。</li>
          <li data-i18n="privacy_use2">保证跨设备数据一致性，通过 iCloud 安全同步。</li>
          <li data-i18n="privacy_use3">无广告投放，不会将您的数据用于营销或推荐。</li>
        </ul>

        <h3 style="color: var(--highlight);" data-i18n="privacy_sec3">3. 信息的分享与披露</h3>
        <p data-i18n="privacy_share_p">WealthX 不会将您的任何个人数据出售或分享给第三方。仅在以下情况下披露：</p>
        <ul>
          <li data-i18n="privacy_share1">遵守法律法规或司法要求。</li>
          <li data-i18n="privacy_share2">保护我们的合法权益或他人安全。</li>
        </ul>

        <h3 style="color: var(--highlight);" data-i18n="privacy_sec4">4. 数据存储与安全</h3>
        <p data-i18n="privacy_storage_p">您的数据存储在设备本地或 iCloud（可选）。我们使用苹果提供的系统加密与安全机制，保护数据传输与存储安全。</p>

        <h3 style="color: var(--highlight);" data-i18n="privacy_sec5">5. 儿童隐私</h3>
        <p data-i18n="privacy_children_p">WealthX 面向 4 岁及以上用户。如您未满 4 岁，请在监护人指导下使用。</p>

        <h3 style="color: var(--highlight);" data-i18n="privacy_sec6">6. 隐私政策更新</h3>
        <p data-i18n="privacy_update_p">我们可能会不定期更新本隐私政策，页面顶部「生效日期」会相应更新。建议您定期查看。</p>

        <h3 style="color: var(--highlight);" data-i18n="privacy_sec7">7. 联系我们</h3>
        <p data-i18n="privacy_contact_p">如有疑问或建议，请发送邮件至 <a href="mailto:ericdai2013@gmail.com">ericdai2013@gmail.com</a>。</p>
      </section>

      <section id="accounts">
        <h2 style="color: var(--highlight);" data-i18n="accounts_title">📦 账户管理</h2>
        <p data-i18n="accounts_desc">多账户支持，资产/负债分组，一键对账</p>
        <div class="screenshots" data-section="account"></div>
      </section>

      <section id="budgets">
        <h2 style="color: var(--highlight);" data-i18n="budgets_title">📅 预算管理</h2>
        <p data-i18n="budgets_desc">月/季/年/项目预算，预算流向雷达图</p>
         <div class="screenshots" data-section="budget"></div>
      </section>

      <section id="transactions">
        <h2 style="color: var(--highlight);" data-i18n="transactions_title">🔄 交易管理</h2>
        <p data-i18n="transactions_desc">高频交易流自动化，循环交易支持</p>
        <div class="screenshots" data-section="transaction"></div>
      </section>

      <section id="visual">
        <h2 style="color: var(--highlight);" data-i18n="visual_title">📊 数据可视化</h2>
        <p data-i18n="visual_desc">资产走势、预算进度、雷达图分析</p>
         <div class="screenshots" data-section="visualization"></div>
      </section>

      <section id="security">
        <h2 style="color: var(--highlight);" data-i18n="security_title">🔐 数据管理</h2>
        <p data-i18n="security_desc">本地数据 + 云同步，隐私优先设计</p>
      </section>
    </main>
  </div>

<script>
  // 切主题（不动）
  function toggleTheme() {
    const root = document.documentElement;
    root.getAttribute("data-theme") === "dark"
      ? root.removeAttribute("data-theme")
      : root.setAttribute("data-theme", "dark");
  }

  // (1) 切侧栏 + section
function switchTab(event, id) {
  event.preventDefault();
  history.replaceState(null, '', `#${id}`);
  document.querySelectorAll("aside a").forEach(a => a.classList.remove("active"));
  event.target.closest("a")?.classList.add("active");
  document.querySelectorAll("main section").forEach(s => s.classList.remove("active"));
  document.getElementById(id)?.classList.add("active");
}

  // (2) 根据 URL hash 激活对应 tab（供初始 & 切语言后调用）
  function activateByHash() {
    document.querySelectorAll("aside a, main section").forEach(el => el.classList.remove("active"));
    const id = location.hash.slice(1);
    if (id) {
      document.querySelector(`aside a[href="#${id}"]`)?.classList.add("active");
      document.getElementById(id) classList.add("active");
    }
    // 否则保留 HTML 里给 overview 的默认 active
  }

  // (3) 加载文案 & 注入截图
  function loadI18nAndScreenshots() {
    // a) 文案
    fetch(`i18n/${lang}.json`)
      .then(r => r.json())
      .then(dict => {
        document.querySelectorAll('[data-i18n]').forEach(el => {
          const key = el.getAttribute('data-i18n');
          if (dict[key] != null) el.textContent = dict[key];
        });
      })
      // b) 截图
.then(() => fetch('screenshots.json'))
.then(r => r.json())
.then(cfg => {
  document.querySelectorAll('.screenshots').forEach(container => {
    // 1. 清空旧图
    container.innerHTML = '';
    // 2. 从 data-section 拿到正确的「单数」目录名
    const section = container.dataset.section;      // e.g. "account", "budget", "transaction", "visualization"
     console.log('→ section:', section);
    console.log('→ screenshots.json cfg for this section:', cfg[section]);
    console.log('→ using lang:', lang);
    // 3. 取出对应语言的文件列表
    const list = (cfg[section] || {})[lang] || [];
        console.log('→ list of files to show:', list);
    
    // 4. 依次创建 <img> 并 append
    list.forEach(fname => {
      const img = document.createElement('img');
      img.src = `screenshot/${section}/${lang}/${fname}`;
           console.log('  • appending image with src:', img.src);
      container.append(img);
    });
  });
})
.catch(console.error);
  }

  // (4) 语言切换
  const available = ['zh','zh-Hant','en','ja','ko','fr','de'];
  let lang = new URLSearchParams(location.search).get('lang') || navigator.language.slice(0,2);
  if (!available.includes(lang)) lang = 'zh';
  const langSwitch = document.getElementById('lang-switch');
  langSwitch.value = lang;
  langSwitch.addEventListener('change', e => {
    lang = e.target.value;
    const url = new URL(window.location);
    url.searchParams.set('lang', lang);
    history.replaceState(null, '', url);
    loadI18nAndScreenshots();
    activateByHash();
  });

  // (5) 页面初始化
  window.addEventListener("DOMContentLoaded", () => {
    loadI18nAndScreenshots();
    activateByHash();
  });
</script>
</body>
</html>
